---
layout:     post
title:      "Python 3"
date:       2019-8-24
author:     Tong
catalog: true
tags:
    - Python
---

### Summary


### List

#### Delete

```python
bicycles = ['trek', 'canodale', 'redline', 'specialized']

del bicycles[0]
print(bicycles) # ['canodale', 'redline', 'specialized']

print(bicycles.pop()) # specialized

print(bicycles.pop(0)) # canodale

bicycles.remove('redline')
print(bicycles) # []
```


#### Sort

`nums.sort()` 改变原数组的排列顺序，`sorted(nums)`不改变。

```python
nums = [2, 1, 4, 3]

print(sorted(nums)) # [1, 2, 3, 4]

print(nums) # [2, 1, 4, 3]


nums.sort()
print(nums) # [1, 2, 3, 4]

```

#### Copy


```python
nums = [1]
nums_1 = nums[:] # 创建了一个新的数组nums_1
nums_2 = nums # nums_2就是原数组nums的另一个名称，地址相同

```


#### Check empty

```python
requested_toppings = []

if requested_toppings:
    print("Ok, I'll do that")
else:
    print("Are you sure you want a plain pizza?")

```


### 元组(Tuple, 可以用index访问)

里面元素不可变，它本身可以变化。

#### Init

```python
dimensions = (200, 50)
print(dimensions[0])
dimensions = (400, 100) # correct
```


### 字典(dict, 无序)

#### Init

```python
alien_0 = {'color': 'green', 'points': '5'}
print(alien_0['color'])

```

#### Delete

```python
alien_0 = {'color': 'green', 'points': '5'}
print(alien_0) # {'color': 'green', 'points': '5'}
del alien_0['points']
print(alien_0) # {'color': 'green'}
```

#### Traverse

```python
user_0 = {'username': 'Tong', 'first': 'April', 'last': 'Wang'}
print(user_0) # {'username': 'Tong', 'last': 'Wang', 'first': 'April'}

for key, value in user_0.items():
    print("\nKey: " + key)
    print("Value: " + value)

# 顺序可能会发生改变
#    Key: username
#    Value: Tong

#    Key: last
#    Value: Wang

#    Key: first
#    Value: April

# for key in user_0.keys(): 等价于 for key in user_0:
# user_0.keys() 返回一个列表
for key in user_0.keys():
    print("\nKey: " + key)
```


### OrderedDict (记录键-值对的加入顺序)

```python
from collections import OrderedDict

favorite_languages = OrderedDict()

favorite_languages['april'] = 'python'
favorite_languages['tong'] = 'c++'
favorite_languages['edison'] = 'ruby'

#April's favorite language is Python.
#Tong's favorite language is C++.
#Edison's favorite language is Ruby.
for name, language in favorite_languages.items():
    print(name.title() + "'s favorite language is " + language.title() + ".")

```

### 集合（不重复的元素，无序，不能用index）

#### Init

```python
basket = {'apple', 'orange', 'apple', 'pear', 'orange', 'banana'}
print(basket) # {'apple', 'pear', 'banana', 'orange'}

a = set('abracadabra')
print(a) # {'c', 'a', 'd', 'r', 'b'}

```



### 函数

#### 实参和形参

如果要想给形参指定 **默认值**，那么在形参列表中必须先列出没有默认值的形参，再列出有默认值的形参。

```python
def describe_pet(pet_name, animal_type='dog'):
    print("\nI have a " + animal_type + ".")
    print("My " + animal_type + "'s name is " + pet_name.title() + ".")

#I have a dog.
#My dog's name is Willie.
describe_pet(pet_name='willie')

#I have a dog.
#My dog's name is Willie.
describe_pet('willie')

#I have a hamseter.
#My hamseter's name is Willie.
describe_pet('willie', 'hamseter')

```

#### 禁止函数修改列表

```python
# 传递副本而非列表本身
function_name(list_name[:])

```


#### 传递任意数量的实参

用带一个星号的形参，是指用一个元组来存储传递过来的实参。

```python
def make_pizza(*toppings):
    print(toppings)

make_pizza('pepperoni') # ('pepperoni',)

make_pizza('mushrooms', 'green peppers', 'extra cheese') # ('mushrooms', 'green peppers', 'extra cheese')

```

用带两个星号的实参，是指来接受任意数量的关键子实参（键-值对）。

```python
def build_profile(first, last, **user_info):
    profile = {}
    profile['first_name'] = first
    profile['last_name'] = last
    for key, value in user_info.items():
        profile[key] = value
    return profile

user_profile = build_profile('albert', 'einstein', location='princeton', field='physics')

# {'last_name': 'einstein', 'first_name': 'albert', 'location': 'princeton', 'field': 'physics'}
print(user_profile)
```


### Class

#### Init

```python
class Dog():

    # 创建新实例时，自动运行
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def sit(self):
        print(self.name.title() + " is now sitting.")

    def roll_over(self):
        print(self.name.title() + " rolled over!")

my_dog = Dog('willie', 6)
print(my_dog.age)
```


#### 继承

```python
class Car():
    def __init__(self, make, model, year):
        self.make = make
        self.model = model
        self.year = year
        self.odometer_reading = 0

    def get_descriptive_name(self):
        long_name = str(self.year) + ' ' + self.make + ' ' + self.model
        return long_name.title()

class Battery():
    def __init__(self, battery_size=70):
        self.battery_size = battery_size()

class ElectricCar(Car):
    def __init__(self, make, model, year):
        # super()让ElectricCar实例包含父类的所有属性
        super().__init__(make, model, year)
        self.battery = Battery()
```



### Exception

#### ZeroDivisionError

```python
first_number = input("First number\n")
second_number = input("\nSecond number\n")
try:
    answer = int(first_number) / int(second_number)
except ZeroDivisionError:
    print("You can't divide by 0!")
else:
    print(answer)
```

#### FileNotFoundError

```python
filename = "alice.txt"

try:
    with open(filename) as f_obj:
        contents = f_obj.read()
except FileNotFoundError:
    msg = "Sorry, the file " + filename + " does not exist."
    print(msg)
```


### Test

#### Unit test
```python
def get_formatted_name(first, last):
    full_name = first + ' ' + last
    return full_name.title()

import unittest

class NamesTestCase(unittest.TestCase):
    def setUp(self):
        # 创建一些对象用在各个test_里面
        # 这个方法在test_各种方法之前运行

    # all fucntions beginning with "test_" will be tested
    def test_first_last_name(self):
        formatted_name = get_formatted_name('janis', 'joplin')
        self.assertEqual(formatted_name, 'Janis Joplin')

unittest.main()
```
