---
layout:     post
title:      "鲁棒估计"
date:       2019-9-18
author:     Tong
catalog: true
tags:
    - SLAM
---


### RANSAC (Random Sample Consensus)

#### 目标

一个模型与含有野值得数据集$$S$$的鲁棒拟合。（由最小集推测的模型根据在阈值距离内的点数来计分）

#### 算法

1. 随机地从$$S$$中选择$$s$$个数据点组成的一个样本作为模型的一个例示。
2. 确定在模型距离阈值$$t$$内的数据点集$$S_i$$，$$S_i$$称为采样的一致集并定义$$S$$的内点。
3. 如果$$S_i$$的大小（内点的数目）大于某个阈值$$T$$，用$$S_i$$的所有点重估计模型并结束。
4. 如果$$S_i$$的大小小于$$T$$，选择一个新的子集并重复上面的过程。
5. 经过N次实验选择最大一致集$$S_i$$，并用$$S_i$$的所有点重估计模型。

#### 问题

如果选取算法中的三个阈值$$t$$, $$N$$, $$T$$?

#### 距离阈值$$t$$

我们希望选择的距离阈值$$t$$使点为内点的概率是$$\alpha$$。该计算需要知道内点到模型的距离的概率分布。但是如果假定测量误差为零均值和标准方差$$\sigma$$的高斯分布，那么$$t$$的值可以算出。计算时还要考虑模型的余维度。通常$$\alpha$$取$$0.95$$。

#### 采样次数$$N$$

只要采样次数$$N$$足够大，以保证由$$s$$个点组成的随机样本中至少有一次没有野值的概率为$$p$$，通常$$p$$取为$$0.99$$。假设$$w$$是任意选择的数据点为内点的概率，那么$$\epsilon = 1 - w$$是其为野值的概率。则$$
\left(1-w^{s}\right)^{N}=1-p
$$。

$$
N=\log (1-p) / \log \left(1-(1-\epsilon)^{s}\right)
$$

根据上述公式，我们可以采用自适应的算法来确定野值概率$$\epsilon$$和采样次数$$N$$。
1. 初始化：$$\epsilon = 1, N = \inf, sample_count = 0$$
2. 当 N > sample_count 时重复
    - 选取一个样本并计算内点数
    - 令$$\epsilon = 1 - (内点数) / (总点数)$$
    - 取$$p = 0.99$$，并计算$$N$$
    - sample_count += 1
3. 终止


#### 一致集大小$$T$$

在给定野值的假定比例后，如果一致集大小接近期望属于该数据集的内点数时迭代就停止，即对$$n$$个数据，$$
T=(1-\epsilon) n
$$。

### 最小中值平方估计(Least Median of Squares, LMS)

#### 目标

根据数据中所有点的距离中值，选择具有最小中值的模型。

#### 优点

不需要阈值或误差方差的先验知识。

#### 缺点

如果多余一半的数据是野值，那么它要失败，因为距离的中值可能是一个野值。

解决办法：用野值的比例来确定它所选的距离。例如有50%野值时可取低于中值的阈值。


### [编程题：线性回归](https://www.nowcoder.com/questionTerminal/9d4d2ab1cca947ec88912fc7761e537b)

[参考资料](https://blog.csdn.net/LaplaceSmoothing/article/details/94581854)

#### 实现
